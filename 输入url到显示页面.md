# 从输入URL到页面呈现发生了什么

## 网络层面

1. 构建请求

2. 查找缓存

   先检查强缓存，如果命中直接使用，否则进入下一步。

3. DNS解析

   找到域名对应的IP

4. tcp连接建立

   - 三次握手建立连接
   - 进行数据传输。（接收方接收到数据包后必须要向发送方`确认`, 如果发送方没有接到这个`确认`的消息，就判定为数据包丢失，并重新发送该数据包）
   - 四次挥手，断开连接

5. 发送请求（请求行，请求头，请求体）

6. 网络响应（响应行，响应头，响应体）

![project](http://47.98.159.95/my_blog/week10/2.jpg)

## html解析

1. 解析html生成DOM树
2. 解析css生成DOM样式
3. DOM树和样式合并生成layout树

![project](http://47.98.159.95/my_blog/week10/3.jpg)

## 渲染

1. 建立图层树（对特定的节点进行分层，构建一棵`图层树`(`Layer Tree`)）
2. 生成绘制列表
3. 生成图块和位图
4. 显示内容

![project](http://47.98.159.95/my_blog/week10/4.jpg)

http://47.98.159.95/my_blog/blogs/browser/browser-render/003.html
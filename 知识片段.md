# Http状态码

| 状态码 | 含义 |
| --- | --- |
| 1XX | 请求正在被处理 |
| 2XX | 请求被成功处理 |
| 3XX | 请求需要附加操作，常见如重定向 |
| 4XX | 客户端出错导致请求无法被处理 |
| 5XX | 服务端处理出错 |

## 分类
### 2XX

| 状态码 | 原因短语 | 含义 |
| --- | --- | --- |
| 200 | OK | 请求被正常处理 |
| 204 | NO CONTENT | 请求成功，但是响应的报文中不含实体主体 |   
| 206 | Partial Content | 只返回了请求资源的部分 |

`204`: 例如`option`请求，通常被用来做正式请求的预请求，这个请求只需要确认后续的请求能不能通过，即只需要一个结果，而不需要返回其他内容。

`206`: 在 http的请求中，头部添加`Range`用来表示范围请求，例如
 ```
 'Range': byte=5001-10000 // 表示本次要请求资源的5001-10000字节的部分
 ```
这种情况下，如果服务器接受范围请求并且成功处理，就会返回 206，并且在响应的头部返回：
```
'Content-Range':bytes 5001-10000/10000// 表示整个资源有10000字节，本次返回的范围为 5001-10000字节
```

### 3XX

| 状态码 | 原因短语 | 含义 |
| --- | --- | --- |
| 301 | Moved Permanently | 资源被永久重定向了 |
| 302 | Found | 资源临时重定向到location |   
| 303 | See Other | 资源使用`GET`访问临时重定向的location |
| 304 | Not Modified | 资源未改变，可直接使用缓存 |
| 307 | Temporary Redirect | 严格限制重定向不允许从`POST`转为`GET` |

`301`与`302`的唯一区别就在于一个是临时，一个是永久。

### 4XX

| 状态码 | 原因短语 | 含义 |
| --- | --- | --- |
| 400 | Bad Request | 请求中有语法错误 |
| 401 | Unauthorized | 未经过认证 |   
| 403 | Forbidden | 禁止访问也就是无权限访问 |
| 404 | Not Found | 服务端没有找到所请求的资源 |

### 5XX
| 状态码 | 原因短语 | 含义 |
| --- | --- | --- |
| 500 | Internal Server Error | 服务器故障 |
| 503 | Service Unavailable | 服务器暂时无法使用 |   

# Cookie的实现机制

Cookie是由客户端保存的小型文本文件，其内容为一系列的键值对。 Cookie是由HTTP服务器设置的，保存在浏览器中， 在用户访问其他页面时，会在HTTP请求中附上该服务器之前设置的Cookie。
1. 浏览器向某个URL发起HTTP请求（可以是任何请求，比如GET一个页面、POST一个登录表单等）
2. 对应的服务器收到该HTTP请求，并计算应当返回给浏览器的HTTP响应。
3. 在响应头加入Set-Cookie字段，它的值是要设置的Cookie。
4. 浏览器收到来自服务器的HTTP响应。
5. 浏览器在响应头中发现Set-Cookie字段，就会将该字段的值保存在内存或者硬盘中。
> Set-Cookie字段的值可以是很多项Cookie，每一项都可以指定过期时间Expires。 默认的过期时间是用户关闭浏览器时。
6. 浏览器下次给该服务器发送HTTP请求时， 会将服务器设置的Cookie附加在HTTP请求的头字段Cookie中。
> 浏览器可以存储多个域名下的Cookie，但只发送当前请求的域名曾经指定的Cookie， 这个域名也可以在Set-Cookie字段中指定）。
7. 服务器收到这个HTTP请求，发现请求头中有Cookie字段， 便知道之前就和这个用户打过交道了。
8. 过期的Cookie会被浏览器删除。

总之，服务器通过Set-Cookie响应头字段来指示浏览器保存Cookie， 浏览器通过Cookie请求头字段来告诉服务器之前的状态。 Cookie中包含若干个键值对，每个键值对可以设置过期时间。
